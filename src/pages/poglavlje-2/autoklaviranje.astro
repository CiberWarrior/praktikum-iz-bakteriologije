---
import SubPageLayout from
import Icon from '../../components/ui/Icon.astro'; '../../components/SubPageLayout.astro';

export interface Props {
  title?: string;
  description?: string;
}

const { 
  title = 'Autoklaviranje',
  description = 'Sterilizacija vrućom parom pod tlakom - gold standard bakterioloških laboratorija'
} = Astro.props;
---

<SubPageLayout 
  title={title} 
  description={description}
  chapterNumber={2}
  primaryColor="blue"
  breadcrumbPath={[
    { name: 'Autoklaviranje', url: '/poglavlje-2/autoklaviranje/' }
  ]}
>

  <!-- Main Content with Sidebar -->
  <div class="flex max-w-7xl mx-auto">
    
    <!-- Table of Contents Sidebar -->
    <aside class="hidden lg:block w-64 p-6 bg-gradient-to-b from-gray-50 to-gray-100 border-r border-gray-200 sticky top-0 h-screen overflow-y-auto shadow-lg">
      <div class="mb-6">
        <div class="flex items-center mb-6">
          <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center mr-3">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900">Sadržaj stranice</h3>
        </div>
        
        <!-- Bookmark Button -->
        <button id="bookmark-btn" class="flex items-center space-x-3 text-sm text-gray-600 hover:text-blue-600 transition-all duration-300 mb-6 p-3 rounded-lg hover:bg-blue-50 w-full">
          <Icon name="IconBookmark" className="w-5 h-5" />
          <span id="bookmark-text" class="font-medium">Označiti kao bookmark</span>
        </button>
        
        <!-- Table of Contents -->
        <nav class="space-y-1">
          <div class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Sadržaj stranice</div>
          <a href="#sterilizacija-autoklaviranjem" class="toc-link group flex items-center text-sm text-gray-600 hover:text-blue-600 transition-all duration-300 py-2 px-3 rounded-lg hover:bg-blue-50" data-target="sterilizacija-autoklaviranjem">
            <span class="w-2 h-2 bg-blue-400 rounded-full mr-3 transition-all duration-300"></span>
            Sterilizacija autoklaviranjem
          </a>
          <a href="#princip-rada-autoklava" class="toc-link group flex items-center text-sm text-gray-600 hover:text-blue-600 transition-all duration-300 py-2 px-3 rounded-lg hover:bg-blue-50" data-target="princip-rada-autoklava">
            <span class="w-2 h-2 bg-green-400 rounded-full mr-3 transition-all duration-300"></span>
            Princip rada autoklava
          </a>
          <a href="#uvjeti-sterilizacije" class="toc-link group flex items-center text-sm text-gray-600 hover:text-blue-600 transition-all duration-300 py-2 px-3 rounded-lg hover:bg-blue-50" data-target="uvjeti-sterilizacije">
            <span class="w-2 h-2 bg-purple-400 rounded-full mr-3 transition-all duration-300"></span>
            Uvjeti sterilizacije
          </a>
        </nav>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 px-6 py-8">
      <div class="max-w-4xl mx-auto">
        <div class="prose prose-lg max-w-none">
          
          <!-- Content Blocks -->
          <div class="space-y-8">
            
            <!-- Sterilizacija autoklaviranjem -->
            <div id="sterilizacija-autoklaviranjem" class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 shadow-lg border border-blue-200">
              <div class="flex items-center mb-4">
                <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mr-4">
                  <Icon name="IconFlask" className="w-8 h-8 text-white" />
                </div>
                <h3 class="text-2xl font-bold text-blue-900">Sterilizacija autoklaviranjem</h3>
              </div>
              <div class="bg-white rounded-lg p-6 shadow-sm">
                <p class="text-gray-700 leading-relaxed mb-4">
                  Podrazumijeva upotrebu pregrijane (iznad 100°C) vodene pare pod pritiskom, u posebnom aparatu autoklavu, što je najučinkovitije sredstvo za ubijanje vegetativnih i sporogenih oblika mikroorganizama. Autoklav je napravljen od vrlo čvrstog metala, s dvostrukim zidom i poklopcem koji hermetički zatvara prostor sterilizacije. Opremljen je ventilom za izlaz zraka prije i ispuštanje pare poslije sterilizacije, termometrom i manometrom, sigurnosnim ventilom te stupcem za očitavanje razine vode u autoklavu.
                </p>
                <p class="text-gray-700 leading-relaxed mb-4">
                  Na metalnu pregradu iznad vodenog sloja s električnim grijačima u donjem dijelu autoklava stavlja se materijal za sterilizaciju (tikvice s medijima, epruvete i dr). Na početku sterilizacije ventil za izlaz zraka treba biti otvoren. Vodena para koja nastaje zagrijavanjem vode potiskuje zrak iz radnog prostora autoklava. Ventil za izlaz zraka postupno se zatvara kad para počinje izlaziti te pošto je zrak potisnut hermetički zatvara radni prostor. Vodena para koja se stvara ne izlazi iz hermetički zatvorenog prostora, u kojem se stoga povećava pritisak. Pod povećanim pritiskom voda na dnu autoklava vrjet će na temperaturi iznad 100°C.
                </p>
                <p class="text-gray-700 leading-relaxed">
                  Na taj način u radnom prostoru autoklava dobivamo pregrijanu vodenu paru pod pritiskom. Kad prođe vrijeme sterilizacije, postupno se otvori ventil za izlaz pare te se (kad je sva para izašla) autoklav može otvoriti. Zasićena vodena para povećanjem pritiska 0,5 ATM ima temperaturu 112°C te uništava vegetativne i sporogene oblike mikroorganizama za 90 min. Povećanjem pritiska na 1,0 ATM na temperaturi od 121°C potpunu učinak sterilizacije postiže se za 20 min, a povećanjem pritiska za 2,0 ATM na temperaturi od 134°C za 10 min.
                </p>
              </div>
            </div>

            <!-- Princip rada autoklava -->
            <div id="princip-rada-autoklava" class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 shadow-lg border border-green-200">
              <div class="flex items-center mb-4">
                <span class="text-3xl mr-4">⚙️</span>
                <h3 class="text-2xl font-bold text-green-900">Princip rada autoklava</h3>
              </div>
              <div class="bg-white rounded-lg p-6 shadow-sm">
                <p class="text-gray-700 leading-relaxed mb-4">
                  Autoklav koristi kombinaciju visoke temperature i pritiska za učinkovitu sterilizaciju. Ključni elementi su:
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-green-100 text-green-800 px-4 py-3 rounded-lg">
                    <strong>Temperatura:</strong> 121°C pod pritiskom od 1 ATM
                  </div>
                  <div class="bg-green-100 text-green-800 px-4 py-3 rounded-lg">
                    <strong>Vrijeme:</strong> 20 minuta za standardnu sterilizaciju
                  </div>
                  <div class="bg-green-100 text-green-800 px-4 py-3 rounded-lg">
                    <strong>Materijal:</strong> Čvrsti metal s dvostrukim zidom
                  </div>
                  <div class="bg-green-100 text-green-800 px-4 py-3 rounded-lg">
                    <strong>Sigurnost:</strong> Sigurnosni ventili i kontrolni instrumenti
                  </div>
                </div>
              </div>
            </div>

            <!-- Uvjeti sterilizacije -->
            <div id="uvjeti-sterilizacije" class="bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 shadow-lg border border-purple-200">
              <div class="flex items-center mb-4">
                <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mr-4">
                  <Icon name="IconChartBar" className="w-8 h-8 text-white" />
                </div>
                <h3 class="text-2xl font-bold text-purple-900">Uvjeti sterilizacije</h3>
              </div>
              <div class="bg-white rounded-lg p-6 shadow-sm overflow-x-auto">
                <table class="w-full border-collapse border border-gray-300">
                  <thead>
                    <tr class="bg-gray-50">
                      <th class="border border-gray-300 p-3 text-left font-semibold text-gray-700">Pritisak</th>
                      <th class="border border-gray-300 p-3 text-left font-semibold text-gray-700">Temperatura</th>
                      <th class="border border-gray-300 p-3 text-left font-semibold text-gray-700">Vrijeme</th>
                      <th class="border border-gray-300 p-3 text-left font-semibold text-gray-700">Primjena</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="border border-gray-300 p-3 text-gray-700">0,5 ATM</td>
                      <td class="border border-gray-300 p-3 text-gray-700">112°C</td>
                      <td class="border border-gray-300 p-3 text-gray-700">90 min</td>
                      <td class="border border-gray-300 p-3 text-gray-700">Osjetljivi materijali</td>
                    </tr>
                    <tr class="bg-gray-50">
                      <td class="border border-gray-300 p-3 text-gray-700">1,0 ATM</td>
                      <td class="border border-gray-300 p-3 text-gray-700">121°C</td>
                      <td class="border border-gray-300 p-3 text-gray-700">20 min</td>
                      <td class="border border-gray-300 p-3 text-gray-700">Standardna sterilizacija</td>
                    </tr>
                    <tr>
                      <td class="border border-gray-300 p-3 text-gray-700">2,0 ATM</td>
                      <td class="border border-gray-300 p-3 text-gray-700">134°C</td>
                      <td class="border border-gray-300 p-3 text-gray-700">10 min</td>
                      <td class="border border-gray-300 p-3 text-gray-700">Brza sterilizacija</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Navigacijski gumbovi -->
  <div class="flex justify-between mt-16 mb-8 max-w-4xl mx-auto px-4 sm:px-6">
    <!-- Prethodna stranica -->
    <a
      href="/poglavlje-2/frakciona-sterilizacija/"
      class="inline-flex items-center justify-center px-8 py-4 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold rounded-full shadow-lg hover:shadow-xl transition-all duration-300 no-underline transform hover:-translate-y-1"
      aria-label="Prijeđi na prethodnu stranicu: Frakciona sterilizacija (tindalizacija)"
    >
      <Icon name="IconChevronLeft" className="w-5 h-5 mr-3" />
      <span class="text-lg">Frakciona sterilizacija (tindalizacija)</span>
    </a>
    
    <!-- Iduća stranica -->
    <a
      href="/poglavlje-2/kemijska-sterilizacija/"
      class="inline-flex items-center justify-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white font-semibold rounded-full shadow-lg hover:shadow-xl transition-all duration-300 no-underline transform hover:-translate-y-1"
      aria-label="Prijeđi na sljedeću stranicu: Kemijska sterilizacija"
    >
      <span class="text-lg">Kemijska sterilizacija</span>
      <Icon name="IconChevronRight" className="w-5 h-5 ml-3" />
    </a>
  </div>

</SubPageLayout>

<script>
  // Bookmark functionality
  document.addEventListener('DOMContentLoaded', () => {
    const bookmarkBtn = document.getElementById('bookmark-btn');
    const bookmarkIcon = document.getElementById('bookmark-icon');
    const bookmarkText = document.getElementById('bookmark-text');
    
    if (bookmarkBtn && bookmarkText) {
      bookmarkBtn.addEventListener('click', () => {
        const isBookmarked = bookmarkBtn.classList.contains('text-blue-600');
        
        if (isBookmarked) {
          bookmarkBtn.classList.remove('text-blue-600', 'bg-blue-50');
          bookmarkBtn.classList.add('text-gray-600');
          bookmarkText.textContent = 'Označiti kao bookmark';
          localStorage.removeItem('bookmark-autoklaviranje');
        } else {
          bookmarkBtn.classList.add('text-blue-600', 'bg-blue-50');
          bookmarkBtn.classList.remove('text-gray-600');
          bookmarkText.textContent = 'Ukloniti bookmark';
          localStorage.setItem('bookmark-autoklaviranje', 'true');
        }
      });
      
      // Check if already bookmarked
      if (localStorage.getItem('bookmark-autoklaviranje')) {
        bookmarkBtn.classList.add('text-blue-600', 'bg-blue-50');
        bookmarkBtn.classList.remove('text-gray-600');
        bookmarkText.textContent = 'Ukloniti bookmark';
      }
    }
    
    // TOC functionality
    const tocLinks = document.querySelectorAll('.toc-link');
    const sections = document.querySelectorAll('[id]');
    
    const observerOptions = {
      rootMargin: '-20% 0px -80% 0px',
      threshold: 0
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.id;
          tocLinks.forEach(link => {
            link.classList.remove('text-blue-600', 'bg-blue-50');
            link.classList.add('text-gray-600');
            if (link.getAttribute('data-target') === id) {
              link.classList.add('text-blue-600', 'bg-blue-50');
              link.classList.remove('text-gray-600');
            }
          });
        }
      });
    }, observerOptions);
    
    sections.forEach(section => {
      observer.observe(section);
    });
  });
</script>
